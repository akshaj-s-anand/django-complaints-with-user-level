{% extends 'home/base.html' %}
{% load static %}
{% block title %}
  Create User | User Management
{% endblock %}

{% block content %}
  <h1>Create User</h1>
  <br />
  <form method="POST" class="needs-validation">
    {% csrf_token %}
    
    <div class="mb-3">
      {{ form.as_p }}
    </div>
    
    <div class="d-flex justify-content-between align-items-center">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
{% endblock %}

{% block script %}
<script>
  $(document).ready(function () {
    function toggleServiceCenterFields() {
        if ($('#id_group').val() === '4') {
            $('#id_service_center_address, #id_service_center_location, #id_service_center_phone_number_1, #id_service_center_phone_number_2, #id_service_type')
                .closest('p')
                .show();
        } else {
            $('#id_service_center_address, #id_service_center_location, #id_service_center_phone_number_1, #id_service_center_phone_number_2, #id_service_type')
                .closest('p')
                .hide();
        }
    }

    // Run on page load
    toggleServiceCenterFields();

    // Bind change event
    $('#id_group').change(function () {
        toggleServiceCenterFields();
    });
});

</script>
{% endblock script %}
